/*******************************************************************
********************************************************************
********....................................................********
*******...........//M\\.......//M\\.........|||PPPPP\\.......*******
******...........///.\\\.....///.\\\........|||.....))).......******
*****...........///...\\\...///...\\\.......|||PPPPP//.........*****
******.........///.....\\\.///.....\\\......|||...............******
*******.......///.......\\V//.......\\\.O...|||.....O........*******
********....................................................********
********************                             *******************
*******************  (C)  Martin Pannenbäcker    *******************
********************                            ********************
********************************************************************
****************  ________________________________  ****************
****************  |                              |  ****************
****************  | File:    si7020.h            |  ****************
****************  |______________________________|  ****************
****************  |                              |  ****************
****************  | Version: 1.0                 |  ****************
****************  | Date:    01.02.2018          |  ****************
****************  | Author:  Martin Pannenbäcker |  ****************
****************  |______________________________|  ****************
****************                                    ****************
********************************************************************
********************************************************************
*******************************************************************/

#ifndef SI7020_H_
#define SI7020_H_

     /**************************************************************************************************************************************
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //////////////////////////////////////////////////// Includes /////////////////////////////////////////////////////////////////////////
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
*************************************************************************************************************************************/

#include "main.h"



     /**************************************************************************************************************************************
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  //////////////////////////////////////////////// Global Functions /////////////////////////////////////////////////////////////////////
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
*************************************************************************************************************************************/

void si7020_heat(uint8_t current, uint32_t ms);

uint8_t si7020_getHum();
int16_t si7020_getTemp();



     /**************************************************************************************************************************************
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  /////////////////////////////////////////////////// Defines ///////////////////////////////////////////////////////////////////////////
 ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
*************************************************************************************************************************************/

//Si7020 I2C Slave Address
#define SI7020_SLAVEADDR    0x40


//Si7020 Registers
#define SI7020_TEMPMEAS     0xE3
#define SI7020_HUMMEAS      0xE5
#define SI7020_USERREG1     0xE3
#define SI7020_HEATERCTRL   0x51


//Si7020 Heater Values
#define SI7020_HEATER_EN    0x08
#define SI7020_HEATER_DIS   0x3A
#define SI7020_HEATER_mA03  0x00
#define SI7020_HEATER_mA09  0x01
#define SI7020_HEATER_mA15  0x02
#define SI7020_HEATER_mA27  0x04
#define SI7020_HEATER_mA52  0x08
#define SI7020_HEATER_mA94  0x0F



#endif /* SI7020_H_ */
